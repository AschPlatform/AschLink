module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=17)}([function(t,e){t.exports=require("@babel/runtime/regenerator")},function(t,e){t.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(t,e){t.exports=require("bignumber")},function(t,e){t.exports=require("@babel/runtime/helpers/classCallCheck")},function(t,e){t.exports=require("@babel/runtime/helpers/createClass")},function(t,e){t.exports=require("asch-js")},function(t,e){t.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(t,e){t.exports=require("@babel/runtime/helpers/defineProperty")},function(t,e){t.exports=require("bip39")},function(t,e){t.exports=require("@babel/runtime/helpers/typeof")},function(t,e){t.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(t,e){t.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(t,e){t.exports=require("@babel/runtime/helpers/inherits")},function(t,e){t.exports=require("axios")},function(t,e){t.exports=require("validator")},function(t,e){t.exports=require("eventemitter3")},function(t,e,n){"use strict";var r={1:function(t){return.1},2:function(t){var e=t.args[0].length;return 2===e?200:3===e?100:4===e?80:5===e?40:e<=10?10:1},3:function(t){return 5},4:function(t){return.1},5:function(t){return 0},6:function(t){return 5},7:function(t){return 100},8:function(t){return.1},9:function(t){return 0},10:function(t){return 100},11:function(t){return.1},12:function(t){return.1},100:function(t){return 100},101:function(t){return 500},102:function(t){return.1},103:function(t){return.1},200:function(t){return 100},201:function(t){return 1},202:function(t){return 1},203:function(t){return 1},204:function(t){return.1},205:function(t){return.1},300:function(t){return 10},301:function(t){return.1},302:function(t){return 0},400:function(t){return.1},401:function(t){return 100},402:function(t){return.01},403:function(t){return 0},404:function(t){return.01}};t.exports.convertFee=function(t){var e=t.type,n=r[e](t);return n*=Math.pow(10,8),t.fee=n,t}},function(t,e,n){"use strict";n.r(e);var r=n(9),a=n.n(r),s=n(0),u=n.n(s),i=n(1),c=n.n(i),o=n(3),l=n.n(o),h=n(4),f=n.n(h),d=n(10),p=n.n(d),v=n(11),g=n.n(v),b=n(12),y=n.n(b),m=n(6),k=n.n(m),w=n(7),x=n.n(w),j=n(13),A=n.n(j),P=n(14),S=n.n(P),N=n(2),O=n.n(N),q={isValidURL:function(t){return S.a.isURL(t.toString(),{protocols:["http","https"]})},isObject:function(t){return t===Object(t)&&"[object Array]"!==Object.prototype.toString.call(t)},isArray:function(t){return Array.isArray(t)},isJson:function(t){try{return!!JSON.parse(t)}catch(t){return!1}},isBoolean:function(t){return"boolean"==typeof t},isBigNumber:function(t){return t&&(t instanceof O.a||t.constructor&&"BigNumber"===t.constructor.name)},isString:function(t){return"string"==typeof t||t&&t.constructor&&"String"===t.constructor.name},isFunction:function(t){return"function"==typeof t},isHex:function(t){return"string"==typeof t&&!isNaN(parseInt(t,16))},isInteger:function(t){return Number.isInteger(Number(t))},hasProperty:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},hasProperties:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.length&&!r.map(function(n){return e.hasProperty(t,n)}).includes(!1)},injectPromise:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise(function(e,r){t.apply(void 0,n.concat([function(t,n){t?r(t):e(n)}]))})},promiseInjector:function(t){var e=this;return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return e.injectPromise.apply(e,[n.bind(t)].concat(a))}},mapEvent:function(t){return{block:t.block_number,timestamp:t.block_timestamp,contract:t.contract_address,name:t.event_name,transaction:t.transaction_id,result:t.result,resourceNode:t.resource_Node}},parseEvent:function(t,e){var n=e.inputs;if(!t.result)return t;if(this.isObject(t.result))for(var r=0;r<n.length;r++){var a=n[r];"address"==a.type&&a.name in t.result&&(t.result[a.name]="41"+t.result[a.name].substr(2).toLowerCase())}else this.isArray(t.result)&&(t.result=t.result.reduce(function(t,e,r){var a=n[r],s=a.name;return"address"==a.type&&(e="41"+e.substr(2).toLowerCase()),t[s]=e,t},{}));return t},padLeft:function(t,e,n){for(var r=t.toString();r.length<n;)r=e+r;return r}},W={server:{development:"http://testnet.asch.io",production:"http://testnet.asch.io",test:"http://testnet.asch.io"},loginApi:{mock:"/data/home/accounts.json",url:"/api/accounts/open2"},accountApi:{mock:"/data/home/accounts.json",url:"/api/accounts"},transactionsApi:{mock:"/data/home/transactions.json",url:"/api/transactions"},delegatesApi:{mock:"/data/vote/delegates.json",url:"/api/delegates"},myvotesApi:{mock:"/data/vote/delegates.json",url:"/api/accounts/delegates"},blocksApi:{mock:"/data/blockchain/blocks.json",url:"/api/blocks"},blockforgingApi:{mock:"/data/blockforging/delegates.json",url:"/api/delegates/get"},blocksDetailApi:{mock:"/data/blockDetail/getblocks.json",url:"/api/blocks/get"},accountdetailApi:{mock:"/data/accountdetail/accounts.json",url:"/api/accounts"},votetomeApi:{mock:"/data/vote/voter.json",url:"/api/delegates/voters"},peerApi:{mock:"/data/peer/peers.json",url:"/api/peers"},postApi:{mock:"/data/vote/delegates.json",url:"/peer/transactions"},appListApi:{mock:"/data/application/applist.json",url:"/api/dapps"},appInstalledApi:{mock:"/data/application/applist.json",url:"/api/dapps/installed"},forgingStatusApi:{mock:"/data/blockforging/status.json",url:"/api/delegates/forging/status"},myBalancesApi:{mock:"/data/assets/my-balances.json",url:"/api/uia/balances/:address"},issuerApi:{mock:"/data/assets/issuer.json",url:"/api/uia/issuers/:address"},myAssetsApi:{mock:"/data/assets/my-assets.json",url:"/api/uia/issuers/:name/assets"},myTransactionsApi:{mock:"/data/assets/my-transactions.json",url:"/api/uia/transactions/my/:address"},assetAclApi:{mock:"/data/assets/acl.json",url:"/api/uia/assets/:name/acl/:flag"},appBalanceApi:{mock:"",url:"/api/uia/balances/:address"},uiaAssetApi:{mock:"",url:"/api/uia/assets/:name"},uiaAssetListApi:{mock:"",url:"/api/uia/assets"},v2:{accounts:{url:"/api/v2/accounts/:address"},transactions:{url:"/api/v2/transactions"},transaction:{url:"/api/v2/transactions/:tid"},councils:{url:"/api/v2/groups"},council:{url:"/api/v2/groups/:address"},proposals:{url:"/api/v2/proposals"},proposal:{url:"/api/v2/proposals/:tid"},proposalVotes:{url:"/api/v2/proposals/:tid/votes"},deposits:{url:"/api/v2/gateways/deposits"},currencyDeposits:{url:"/api/v2/gateways/deposits/:currency"},myDeposits:{url:"/api/v2/gateways/deposits/my/:address"},myCurrencyDeposits:{url:"/api/v2/gateways/deposits/my/:address/:currency"},withdrawals:{url:"/api/v2/gateways/withdrawals"},currencyWithdrawals:{url:"/api/v2/gateways/withdrawals/:currency"},myWithdrawals:{url:"/api/v2/gateways/withdrawals/my/:address"},myCurrencyWithdrawals:{url:"/api/v2/gateways/withdrawals/:address/:currency"},gateways:{url:"/api/v2/gateways/"},gateValidators:{url:"/api/v2/gateways/:name/validators"},gateCurrencies:{url:"/api/v2/gateways/:name/currencies"},gateAccountAddr:{url:"/api/v2/gateways/:name/accounts/:address"},gateAccountDeposits:{url:"/api/v2/gateways/deposits/:address/:currency"},gateAccountWithdrawals:{url:"/api/v2/gateways/withdrawals/:address/:currency"},currencies:{url:"/api/v2/gateways/currencies"},currency:{url:"/api/v2/gateways/currencies/:name"},address:{url:"/api/v2/gateways/address/:sender/:currency"},balances:{url:"/api/v2/balances/:address"},balance:{url:"/api/v2/balances/:address/:currency"},issuers:{url:"/api/v2/uia/issuers"},issuer:{url:"/api/v2/uia/issuers/:address"},assets:{url:"/api/v2/uia/assets"},addressAssets:{url:"/api/v2/uia/issuers/:address/assets"},asset:{url:"/api/v2/uia/assets/:name"},agents:{url:"/api/v2/agents"},agentsSupporter:{url:"/api/v2/agents/:name/clienteles"},transfers:{url:"/api/v2/transfers"},chains:{url:"/api/v2/chains"},chainsInstalled:{url:"/api/v2/chains/installed"},blocksApi:{mock:"/data/blockchain/blocks.json",url:"/api/v2/blocks"},blocksDetail:{mock:"/data/blockchain/blocks.json",url:"/api/v2/blocks/:filter"}},magics:{development:"594fe0f3",production:"5f5b3cf5"}},T={HttpProvider:function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"/";if(l()(this,t),!q.isValidURL(e))throw new Error("Invalid URL provided to HttpProvider");if(isNaN(n)||n<0)throw new Error("Invalid timeout duration provided");if(!q.isObject(s))throw new Error("Invalid headers object provided");e=e.replace(/\/+$/,""),this.host=e,this.timeout=n,this.user=r,this.password=a,this.headers=s,this.statusPage=u,this.instance=A.a.create({baseURL:e,timeout:n,headers:s,auth:r&&{user:r,password:a}})}return f()(t,[{key:"json2url",value:function(t){var e=[],n="";for(var r in t)n=r+"="+t[r],e.push(n);return e.join("&")}},{key:"request",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",r=arguments.length>3?arguments[3]:void 0;for(var a in e)-1!==t.indexOf(":"+a)&&(t=t.replace(":"+a,e[a]),delete e[a]);return console.info("path:"+t),"get"===(n=n.toLowerCase())?this.instance.get(t+"?"+this.json2url(e)).then(function(t){return t.data}):"post"===n?this.instance.post(t,e,r).then(function(t){return t.data}):"put"===n?this.instance.put(t,e,r).then(function(t){return t.data}):void 0}},{key:"setStatusPage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.statusPage=t}},{key:"isConnected",value:function(){var t=c()(u.a.mark(function t(){var e,n=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:this.statusPage,t.abrupt("return",this.request(e).then(function(t){return q.hasProperties(t,"blockID","block_header")}).catch(function(){return!1}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}()},D=n(8),B=n.n(D),C=n(5);function I(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&B.a.validateMnemonic(t)||(t=B.a.generateMnemonic(128));var e=C.crypto.getKeys(t),n=e.privateKey,r=e.publicKey;return{mnemonic:t,privateKey:n,publicKey:r,address:C.crypto.getAddress(r)}}var M=n(15),E=n.n(M),L=n(16),_=n.n(L),H=n(5),U=n.n(H),V=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(l()(this,t),!e||!e instanceof K)throw new Error("Expected instance of AschWeb");this.aschWeb=e,this.isMainnet=n,this.injectPromise=q.promiseInjector(this)}return f()(t,[{key:"convertSecondPwd",value:function(t){var e=t;return U.a.crypto.getKeys(e).publicKey}},{key:"blockDetail",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.blockDetail,t);this.aschWeb.fullNode.request(W.v2.blocksDetail,t,"get").then(function(t){if(!Object.keys(t).length)return e("Block not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"accounts",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.accounts,t);this.aschWeb.fullNode.request(W.v2.accounts.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"transactions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.transactions,t);this.aschWeb.fullNode.request(W.v2.transactions.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"transaction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.transaction,t);this.aschWeb.fullNode.request(W.v2.transaction.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"councils",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.councils,t);this.aschWeb.fullNode.request(W.v2.councils.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"council",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.council,t);this.aschWeb.fullNode.request(W.v2.council.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"proposals",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.proposals,t);this.aschWeb.fullNode.request(W.v2.proposals.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"proposal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.proposal,t);this.aschWeb.fullNode.request(W.v2.proposal.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"proposalVotes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.proposalVotes,t);this.aschWeb.fullNode.request(W.v2.proposalVotes.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"deposits",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.deposits,t);this.aschWeb.fullNode.request(W.v2.deposits.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"currencyDeposits",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.currencyDeposits,t);this.aschWeb.fullNode.request(W.v2.currencyDeposits.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"myDeposits",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.myDeposits,t);this.aschWeb.fullNode.request(W.v2.myDeposits.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"gateAccountAddr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.gateAccountAddr,t);this.aschWeb.fullNode.request(W.v2.gateAccountAddr.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"myCurrencyDeposits",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.myCurrencyDeposits,t);this.aschWeb.fullNode.request(W.v2.gateAccountDeposits.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"withdrawals",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.withdrawals,t);this.aschWeb.fullNode.request(W.v2.withdrawals.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"currencyWithdrawals",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.currencyWithdrawals,t);this.aschWeb.fullNode.request(W.v2.currencyWithdrawals,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"myWithdrawals",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.myWithdrawals,t);this.aschWeb.fullNode.request(W.v2.myWithdrawals.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"myCurrencyWithdrawals",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.myCurrencyWithdrawals,t);this.aschWeb.fullNode.request(W.v2.gateAccountWithdrawals,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"currencies",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.currencies,t);this.aschWeb.fullNode.request(W.v2.currencies.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"currency",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.currency,t);this.aschWeb.fullNode.request(W.v2.currency,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"address",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.address,t);this.aschWeb.fullNode.request(W.v2.address.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"balances",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.balances,t);this.aschWeb.fullNode.request(W.v2.balances,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"balance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.balance,t);this.aschWeb.fullNode.request(W.v2.balance.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"issuers",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.issuers,t);this.aschWeb.fullNode.request(W.v2.issuer.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"issuer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.issuer,t);this.aschWeb.fullNode.request(W.v2.issuer.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"addressAssets",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.addressAssets,t);this.aschWeb.fullNode.request(W.v2.addressAssets.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"issuer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.issuer,t);this.aschWeb.fullNode.request(W.v2.issuer.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"agentsSupporter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.agentsSupporter,t);this.aschWeb.fullNode.request(W.v2.agentsSupporter.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"getTransfers",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.getTransfers,t);this.aschWeb.fullNode.request(W.v2.transfers.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"addressAsset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.addressAsset,t);this.aschWeb.fullNode.request(W.v2.addressAsset.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"gateways",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.gateways,t);this.aschWeb.fullNode.request(W.v2.gateways.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"gatewayDelegates",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.gatewayDelegates,t);this.aschWeb.fullNode.request(W.v2.gateValidators.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"chains",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.chains,t);this.aschWeb.fullNode.request(W.v2.chains.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"chainsInstalled",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return this.injectPromise(this.chainsInstalled,t);this.aschWeb.fullNode.request(W.v2.chainsInstalled.url,t,"get").then(function(t){if(!Object.keys(t).length)return e("account not found");e(null,t)}).catch(function(t){return e(t)})}},{key:"broadcastTransaction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return this.injectPromise(this.broadcastTransaction,t,e);this.aschWeb.fullNode.request(W.postApi.url,{transaction:t},"post",{headers:{magic:this.isMainnet?W.magics.production:W.magics.development,version:""}}).then(function(t){if(!Object.keys(t).length)return n("response not found");n(null,t)}).catch(function(t){return n(t)})}},{key:"buildAndSign",value:function(){var t=c()(u.a.mark(function t(){var e,n,r,a,s=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],n=s.length>1&&void 0!==s[1]?s[1]:this.aschWeb.defaultMnemonic,r=s.length>2&&void 0!==s[2]&&s[2],a=s.length>3&&void 0!==s[3]&&s[3],console.log("mnemnic:",n),a){t.next=7;break}return t.abrupt("return",this.injectPromise(this.buildAndSign,e,n,r));case 7:if(e.secret=n,e.secondSecret=r||null,e=_.a.convertFee(e),!(e=U.a.transaction.createTransactionEx(e))){t.next=15;break}return t.abrupt("return",a(null,e));case 15:return t.abrupt("return",a("buildAndSign failed."));case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"broadcastTransactionEx",value:function(){var t=c()(u.a.mark(function t(e,n,r){var a,s,i,c,o=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.length>3&&void 0!==o[3]?o[3]:{},a=o.length>4&&void 0!==o[4]&&o[4]){t.next=4;break}return t.abrupt("return",this.injectPromise(this.broadcastTransactionEx,e,n,r,{}));case 4:return t.prev=4,s={type:e,args:n,message:r},t.next=8,this.buildAndSign(s);case 8:return i=t.sent,t.next=11,this.broadcastTransaction(i);case 11:return c=t.sent,console.log("result:",c),t.abrupt("return",a(null,c));case 16:return t.prev=16,t.t0=t.catch(4),t.abrupt("return",a(t.t0));case 19:case"end":return t.stop()}},t,this,[[4,16]])}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"transferXAS",value:function(){var t=c()(u.a.mark(function t(e,n,r){var a,s,i,c,o=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.length>3&&void 0!==o[3]?o[3]:{},a=o.length>4&&void 0!==o[4]&&o[4]){t.next=4;break}return t.abrupt("return",this.injectPromise(this.transferXAS,e,n,r,{}));case 4:return t.prev=4,s={type:1,args:[e,n],message:r},t.next=8,this.buildAndSign(s);case 8:return i=t.sent,t.next=11,this.broadcastTransaction(i);case 11:return c=t.sent,console.log("result:",c),t.abrupt("return",a(null,c));case 16:return t.prev=16,t.t0=t.catch(4),t.abrupt("return",a(t.t0));case 19:case"end":return t.stop()}},t,this,[[4,16]])}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"setName",value:function(){var t=c()(u.a.mark(function t(e){var n,r,a,s,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]&&i[2],t.prev=2,r={type:2,args:[e]},t.next=6,this.buildAndSign(r);case 6:return a=t.sent,t.next=9,this.broadcastTransaction(a);case 9:return s=t.sent,t.abrupt("return",n(null,s));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",n(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"setsecondPassword",value:function(){var t=c()(u.a.mark(function t(e){var n,r,a,s,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]&&i[2],t.prev=2,r={type:3,args:[convertSecondPwd(e)]},t.next=6,this.buildAndSign(r);case 6:return a=t.sent,t.next=9,this.broadcastTransaction(a);case 9:return s=t.sent,t.abrupt("return",n(null,s));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",n(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"setLock",value:function(){var t=c()(u.a.mark(function t(e,n){var r,a,s,i,c=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},r=c.length>3&&void 0!==c[3]&&c[3],t.prev=2,a={type:4,args:[e,n]},t.next=6,this.buildAndSign(a);case 6:return s=t.sent,t.next=9,this.broadcastTransaction(s);case 9:return i=t.sent,t.abrupt("return",r(null,i));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",r(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"unlock",value:function(){var t=c()(u.a.mark(function t(){var e,n,r,a,s=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e=s.length>1&&void 0!==s[1]&&s[1],t.prev=2,n={type:5,args:[]},t.next=6,this.buildAndSign(n);case 6:return r=t.sent,t.next=9,this.broadcastTransaction(r);case 9:return a=t.sent,t.abrupt("return",e(null,a));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",e(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}()},{key:"setMultiAccount",value:function(){var t=c()(u.a.mark(function t(){var e,n,r,a,s=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e=s.length>1&&void 0!==s[1]&&s[1],t.prev=2,n={type:6,args:[]},t.next=6,this.buildAndSign(n);case 6:return r=t.sent,t.next=9,this.broadcastTransaction(r);case 9:return a=t.sent,t.abrupt("return",e(null,a));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",e(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}()},{key:"registerAgent",value:function(){var t=c()(u.a.mark(function t(){var e,n,r,a,s=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e=s.length>1&&void 0!==s[1]&&s[1],t.prev=2,n={type:7,args:[]},t.next=6,this.buildAndSign(n);case 6:return r=t.sent,t.next=9,this.broadcastTransaction(r);case 9:return a=t.sent,t.abrupt("return",e(null,a));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",e(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}()},{key:"setAgent",value:function(){var t=c()(u.a.mark(function t(e){var n,r,a,s,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]&&i[2],t.prev=2,r={type:8,args:[e]},t.next=6,this.buildAndSign(r);case 6:return a=t.sent,t.next=9,this.broadcastTransaction(a);case 9:return s=t.sent,t.abrupt("return",n(null,s));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",n(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"repealAgent",value:function(){var t=c()(u.a.mark(function t(){var e,n,r,a,s=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e=s.length>1&&void 0!==s[1]&&s[1],t.prev=2,n={type:9,args:[]},t.next=6,this.buildAndSign(n);case 6:return r=t.sent,t.next=9,this.broadcastTransaction(r);case 9:return a=t.sent,t.abrupt("return",e(null,a));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",e(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}()},{key:"registerDelegate",value:function(){var t=c()(u.a.mark(function t(){var e,n,r,a,s=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e=s.length>1&&void 0!==s[1]&&s[1],t.prev=2,n={type:10,args:[]},t.next=6,this.buildAndSign(n);case 6:return r=t.sent,t.next=9,this.broadcastTransaction(r);case 9:return a=t.sent,t.abrupt("return",e(null,a));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",e(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}()},{key:"voteDelegate",value:function(){var t=c()(u.a.mark(function t(e){var n,r,a,s,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]&&i[2],t.prev=2,r={type:11,args:[e]},t.next=6,this.buildAndSign(r);case 6:return a=t.sent,t.next=9,this.broadcastTransaction(a);case 9:return s=t.sent,t.abrupt("return",n(null,s));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",n(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"cleanVote",value:function(){var t=c()(u.a.mark(function t(e){var n,r,a,s,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]&&i[2],t.prev=2,r={type:12,args:[e]},t.next=6,this.buildAndSign(r);case 6:return a=t.sent,t.next=9,this.broadcastTransaction(a);case 9:return s=t.sent,t.abrupt("return",n(null,s));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",n(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"registerIssuer",value:function(){var t=c()(u.a.mark(function t(e,n){var r,a,s,i,c=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},r=c.length>3&&void 0!==c[3]&&c[3],t.prev=2,a={type:100,args:[e,n]},t.next=6,this.buildAndSign(a);case 6:return s=t.sent,t.next=9,this.broadcastTransaction(s);case 9:return i=t.sent,t.abrupt("return",r(null,i));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",r(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"registerAsset",value:function(){var t=c()(u.a.mark(function t(e,n,r,a){var s,i,c,o,l=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l.length>4&&void 0!==l[4]?l[4]:{},s=l.length>5&&void 0!==l[5]&&l[5],t.prev=2,i={type:101,args:[e,n,r,a]},t.next=6,this.buildAndSign(i);case 6:return c=t.sent,t.next=9,this.broadcastTransaction(c);case 9:return o=t.sent,t.abrupt("return",s(null,o));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",s(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"issueAsset",value:function(){var t=c()(u.a.mark(function t(e,n){var r,a,s,i,c=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},r=c.length>3&&void 0!==c[3]&&c[3],t.prev=2,a={type:102,args:[e,n]},t.next=6,this.buildAndSign(a);case 6:return s=t.sent,t.next=9,this.broadcastTransaction(s);case 9:return i=t.sent,t.abrupt("return",r(null,i));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",r(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"transferAsset",value:function(){var t=c()(u.a.mark(function t(e,n,r,a){var s,i,c,o,l=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.length>4&&void 0!==l[4]?l[4]:{},s=l.length>5&&void 0!==l[5]&&l[5]){t.next=4;break}return t.abrupt("return",this.injectPromise(this.transferAsset,e,n,r,a,{}));case 4:return t.prev=4,i={type:103,args:[e,n,r],message:a},t.next=8,this.buildAndSign(i);case 8:return c=t.sent,t.next=11,this.broadcastTransaction(c);case 11:return o=t.sent,t.abrupt("return",s(null,o));case 15:return t.prev=15,t.t0=t.catch(4),t.abrupt("return",s(t.t0));case 18:case"end":return t.stop()}},t,this,[[4,15]])}));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"registerDapp",value:function(){var t=c()(u.a.mark(function t(e,n,r,a,s,i,c,o){var l,h,f,d,p=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p.length>8&&void 0!==p[8]?p[8]:{},l=p.length>9&&void 0!==p[9]&&p[9],t.prev=2,h={type:200,args:[e,n,r,a,s,i,c,o]},t.next=6,this.buildAndSign(h);case 6:return f=t.sent,t.next=9,this.broadcastTransaction(f);case 9:return d=t.sent,t.abrupt("return",l(null,d));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",l(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r,a,s,u,i,c){return t.apply(this,arguments)}}()},{key:"updateBooker",value:function(){var t=c()(u.a.mark(function t(e,n,r){var a,s,i,c,o=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.length>3&&void 0!==o[3]?o[3]:{},a=o.length>4&&void 0!==o[4]&&o[4],t.prev=2,s={type:201,args:[e,n,r]},t.next=6,this.buildAndSign(s);case 6:return i=t.sent,t.next=9,this.broadcastTransaction(i);case 9:return c=t.sent,t.abrupt("return",a(null,c));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",a(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"addBooker",value:function(){var t=c()(u.a.mark(function t(e,n){var r,a,s,i,c=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},r=c.length>3&&void 0!==c[3]&&c[3],t.prev=2,a={type:202,args:[e,n]},t.next=6,this.buildAndSign(a);case 6:return s=t.sent,t.next=9,this.broadcastTransaction(s);case 9:return i=t.sent,t.abrupt("return",r(null,i));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",r(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteBooker",value:function(){var t=c()(u.a.mark(function t(e,n){var r,a,s,i,c=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},r=c.length>3&&void 0!==c[3]&&c[3],t.prev=2,a={type:203,args:[e,n]},t.next=6,this.buildAndSign(a);case 6:return s=t.sent,t.next=9,this.broadcastTransaction(s);case 9:return i=t.sent,t.abrupt("return",r(null,i));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",r(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"depositDapp",value:function(){var t=c()(u.a.mark(function t(e,n,r){var a,s,i,c,o=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.length>3&&void 0!==o[3]?o[3]:{},a=o.length>4&&void 0!==o[4]&&o[4],t.prev=2,s={type:204,args:[e,n,r]},t.next=6,this.buildAndSign(s);case 6:return i=t.sent,t.next=9,this.broadcastTransaction(i);case 9:return c=t.sent,t.abrupt("return",a(null,c));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",a(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"withdrawDapp",value:function(){var t=c()(u.a.mark(function t(e,n,r,a,s){var i,c,o,l,h=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h.length>5&&void 0!==h[5]?h[5]:{},i=h.length>6&&void 0!==h[6]&&h[6],t.prev=2,c={type:205,args:[e,n,r,a,s]},t.next=6,this.buildAndSign(c);case 6:return o=t.sent,t.next=9,this.broadcastTransaction(o);case 9:return l=t.sent,t.abrupt("return",i(null,l));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",i(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r,a,s){return t.apply(this,arguments)}}()},{key:"createProposal",value:function(){var t=c()(u.a.mark(function t(e,n,r,a,s){var i,c,o,l,h=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h.length>5&&void 0!==h[5]?h[5]:{},i=h.length>6&&void 0!==h[6]&&h[6],t.prev=2,c={type:300,args:[e,n,r,a,s]},t.next=6,this.buildAndSign(c);case 6:return o=t.sent,t.next=9,this.broadcastTransaction(o);case 9:return l=t.sent,t.abrupt("return",i(null,l));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",i(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r,a,s){return t.apply(this,arguments)}}()},{key:"voteProposal",value:function(){var t=c()(u.a.mark(function t(e){var n,r,a,s,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]&&i[2],t.prev=2,r={type:301,args:[e]},t.next=6,this.buildAndSign(r);case 6:return a=t.sent,t.next=9,this.broadcastTransaction(a);case 9:return s=t.sent,t.abrupt("return",n(null,s));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",n(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"activateProposal",value:function(){var t=c()(u.a.mark(function t(e){var n,r,a,s,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]&&i[2],t.prev=2,r={type:302,args:[e]},t.next=6,this.buildAndSign(r);case 6:return a=t.sent,t.next=9,this.broadcastTransaction(a);case 9:return s=t.sent,t.abrupt("return",n(null,s));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",n(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"registerGateway",value:function(){var t=c()(u.a.mark(function t(e,n,r){var a,s,i,c,o=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.length>3&&void 0!==o[3]?o[3]:{},a=o.length>4&&void 0!==o[4]&&o[4],t.prev=2,s={type:401,args:[e,n,r]},t.next=6,this.buildAndSign(s);case 6:return i=t.sent,t.next=9,this.broadcastTransaction(i);case 9:return c=t.sent,t.abrupt("return",a(null,c));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",a(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"openGatewayAccount",value:function(){var t=c()(u.a.mark(function t(e){var n,r,a,s,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]&&i[2],t.prev=2,r={type:400,args:[e]},t.next=6,this.buildAndSign(r);case 6:return a=t.sent,t.next=9,this.broadcastTransaction(a);case 9:return s=t.sent,t.abrupt("return",n(null,s));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",n(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"depositGateway",value:function(){var t=c()(u.a.mark(function t(e,n,r){var a,s,i,c,o=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.length>3&&void 0!==o[3]?o[3]:{},a=o.length>4&&void 0!==o[4]&&o[4],t.prev=2,s={type:402,args:[e,n,r]},t.next=6,this.buildAndSign(s);case 6:return i=t.sent,t.next=9,this.broadcastTransaction(i);case 9:return c=t.sent,t.abrupt("return",a(null,c));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",a(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"withdrawGateway",value:function(){var t=c()(u.a.mark(function t(e,n,r,a,s){var i,c,o,l,h=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h.length>5&&void 0!==h[5]?h[5]:{},i=h.length>6&&void 0!==h[6]&&h[6],t.prev=2,c={type:403,args:[e,n,r,a,s]},t.next=6,this.buildAndSign(c);case 6:return o=t.sent,t.next=9,this.broadcastTransaction(o);case 9:return l=t.sent,t.abrupt("return",i(null,l));case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",i(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(e,n,r,a,s){return t.apply(this,arguments)}}()}]),t}();n.d(e,"default",function(){return K});var K=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l()(this,e),n=p()(this,g()(e).call(this)),q.isString(t)&&(t=new T.HttpProvider(t)),n.setFullNode(t),n.providers=T,n.BigNumber=O.a,n.defaultBlock=!1,n.defaultMnemonic=!1,n.defaultAddress=!1,["toHex","fromHex","toUtf8","fromUtf8","toDecimal","fromDecimal","toBigNumber","isAddress","createAccount","address"].forEach(function(t){n[t]=e[t]}),r&&n.setMnemonic(r),n.asch=new V(k()(k()(n)),a),n.utils=q,n.injectPromise=q.promiseInjector(k()(k()(n))),n}return y()(e,t),f()(e,[{key:"setDefaultBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if([!1,"latest","earliest",0].includes(t))return this.defaultBlock=t;if(!q.isInteger(t)||!t)throw new Error("Invalid block ID provided");this.defaultBlock=Math.abs(t)}},{key:"setMnemonic",value:function(t){try{var e=I(t);this.setAddress(e.address)}catch(t){throw console.log("setMnemonic catch: ",t),new Error("Invalid mnemonic key provided")}this.defaultMnemonic=t,this.emit("mnemonicChanged",t)}},{key:"setAddress",value:function(t){if(!this.isAddress(t))throw new Error("Invalid address provided");this.defaultMnemonic&&this.address.fromMnemonic(this.defaultMnemonic)!==t&&(this.defaultMnemonic=!1),this.defaultAddress=t,this.emit("addressChanged",{address:t})}},{key:"isValidProvider",value:function(t){return Object.values(T).some(function(e){return t instanceof e})}},{key:"setFullNode",value:function(t){if(q.isString(t)&&(t=new T.HttpProvider(t)),!this.isValidProvider(t))throw new Error("Invalid full node provided");this.fullNode=t,this.fullNode.setStatusPage("wallet/getnowblock")}},{key:"currentProviders",value:function(){return{fullNode:this.fullNode}}},{key:"currentProvider",value:function(){return this.currentProviders()}},{key:"isConnected",value:function(){var t=c()(u.a.mark(function t(){var e,n=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]&&n[0]){t.next=3;break}return t.abrupt("return",this.injectPromise(this.isConnected));case 3:return t.t0=e,t.next=6,this.fullNode.isConnected();case 6:t.t1=t.sent,t.t2={fullNode:t.t1},(0,t.t0)(null,t.t2);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}],[{key:"toHex",value:function(t){if(q.isBoolean(t))return e.fromDecimal(+t);if(q.isBigNumber(t))return e.fromDecimal(t);if("object"===a()(t))return e.fromUtf8(JSON.stringify(t));if(q.isString(t)){if(/^(-|)0x/.test(t))return t;if(!isFinite(t))return e.fromUtf8(t)}return e.fromDecimal(t)}},{key:"toUtf8",value:function(t){return t=t.replace(/^0x/,""),Buffer.from(t,"hex").toString("utf8")}},{key:"fromUtf8",value:function(t){return"0x"+Buffer.from(t,"utf8").toString("hex")}},{key:"toDecimal",value:function(t){return e.toBigNumber(t).toNumber()}},{key:"fromDecimal",value:function(t){var n=e.toBigNumber(t),r=n.toString(16);return n.isLessThan(0)?"-0x"+r.substr(1):"0x"+r}},{key:"toBigNumber",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return q.isBigNumber(t)?t:!q.isString(t)||0!==t.indexOf("0x")&&0!==t.indexOf("-0x")?new O.a(t.toString(10),10):new O.a(t.replace("0x",""),16)}},{key:"isAddress",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!q.isString(t)&&U.a.crypto.isAddress(t)}},{key:"createAccount",value:function(){var t=c()(u.a.mark(function t(){var e,n,r=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],n=I(),e&&e(null,n),t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"address",get:function(){return{fromHex:function(t){return q.isHex(t)?q.crypto.getBase58CheckAddress(q.code.hexStr2byteArray(t)):t},toHex:function(t){return q.isHex(t)?t.toLowerCase().replace(/^0x/,"41"):q.code.byteArray2hexStr(q.crypto.decodeBase58Address(t)).toLowerCase()},fromMnemonic:function(t){try{return I(t).address}catch(t){return!1}}}}}]),e}(E.a);x()(K,"providers",T),x()(K,"BigNumber",O.a)}]).default;
//# sourceMappingURL=AschWeb.node.js.map